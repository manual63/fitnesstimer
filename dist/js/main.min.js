var Home=Backbone.Model.extend({urlRoot:"data/home.json",defaults:{title:"",description:""},initialize:function(){}}),Timer=Backbone.Model.extend({urlRoot:"data/timer.json",defaults:{title:"",description:""},initialize:function(){}}),HomeView=Backbone.View.extend({el:"#content",events:{"click #timerView":"goToTimer"},render:function(t){var e=homeTemplate(t.toJSON());this.$el.html(e)},goToTimer:function(){app_router.navigate("timer",{trigger:!0})}}),TimerView=Backbone.View.extend({startTime:19,timerActive:!1,data:null,startIndex:0,timerInterval:null,el:"#content",events:{"change #classFormat":"initTimer","click .start-pretimer":"preTimer","click .stop-timer":"stopTimer"},render:function(t){var e=timerTemplate(t.toJSON());this.$el.html(e)},initTimer:function(){var t=this,e=$("#classFormat").val();console.log(e),"none"!==e?$.getJSON("classes/"+e+".json",function(e){console.log(e),t.data=e,t.showMove(t.data.moves[0].type,t.data.moves[0].name)}):$(".next-move").html("No Format Selected")},preTimer:function(){var t=this;this.timerActive||(this.timerInterval=setInterval(function(){t.updatePretimer()},1e3),this.timerActive=!0)},startTimer:function(){var t=this;this.timerInterval=setInterval(function(){t.nextMove()},1e3)},stopTimer:function(){clearInterval(this.timerInterval),this.timerActive=!1},nextMove:function(){that=this,$(".timer").html(this.startTime--),9===this.startTime&&(that.startIndex++,that.startIndex<that.data.moves.length&&(that.showMove(that.data.moves[that.startIndex].type,that.data.moves[that.startIndex].name),$(".next-move").addClass("blink_me"))),0===this.startTime&&(that.startTime=60,$(".next-move").removeClass("blink_me"))},updatePretimer:function(){var t=this;$(".timer").html(this.startTime--),this.startTime<0&&(t.startTime=60,clearInterval(t.timerInterval),$(".timer").html(t.startTime),t.startTimer(),$(".start-pretimer").addClass(".start-timer").removeClass(".start-pretimer"),$(".start-timer").on("click",function(){t.startTimer()}))},getClassFormat:function(){var t=this,e=$("#classFormat").val();console.log(e),"none"!==e?$.getJSON("classes/"+e+".json",function(e){console.log(e),t.data=e,t.showMove(t.data.moves[0].type,t.data.moves[0].name)}):$(".next-move").html("No Format Selected")},showMove:function(t,e){$(".move-type").html(t),$(".next-move").html(e)}}),AppRouter=Backbone.Router.extend({routes:{"timer*params":"timerView","*params":"homeView"},timerView:function(){Global.functions.clearView();var t=new Timer;t.fetch({success:function(t){var e=new TimerView;e.render(t)}})},homeView:function(){Global.functions.clearView();var t=new Home;t.fetch({success:function(t){var e=new HomeView;e.render(t)}})}}),Global={functions:{clearView:function(){$("#content").html("")},highlightNav:function(t){$("nav ul li a").removeClass("active"),$(t).addClass("active")},getTemplate:function(t){var e=null;return $.ajax({type:"GET",url:"templates/"+t,async:!1,cache:!1}).done(function(t){e=t}),e}}},homeTemplate=null,timerTemplate=null;$(function(){var t=Global.functions.getTemplate("home.html");homeTemplate=Handlebars.compile(t);var t=Global.functions.getTemplate("timer.html");timerTemplate=Handlebars.compile(t)});var app_router=new AppRouter;Backbone.history.start();
//# sourceMappingURL=main.min.js.map