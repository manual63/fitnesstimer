var Home=Backbone.Model.extend({urlRoot:"data/home.json",defaults:{title:"",description:""},initialize:function(){}}),Register=Backbone.Model.extend({urlRoot:"data/register.json",defaults:{title:"",description:""},initialize:function(){}}),Timer=Backbone.Model.extend({urlRoot:"data/timer.json",defaults:{title:"",description:""},initialize:function(){}}),AppRouter=Backbone.Router.extend({routes:{"timer*params":"timerView","register*params":"registerView","*params":"homeView"},timerView:function(){Global.functions.clearView();var e=new Timer;e.fetch({success:function(e){var t=new TimerView;t.render(e)}})},registerView:function(){Global.functions.clearView();var e=new Register;e.fetch({success:function(e){var t=new RegisterView;t.render(e)}})},homeView:function(){Global.functions.clearView();var e=new Home;e.fetch({success:function(e){var t=new HomeView;t.render(e)}})}}),HomeView=Backbone.View.extend({el:"#content",events:{"click #timerView":"goToTimer"},render:function(e){var t=homeTemplate(e.toJSON());this.$el.html(t)},goToTimer:function(){app_router.navigate("timer",{trigger:!0})}}),RegisterView=Backbone.View.extend({el:"#content",events:{"click #createUser":"createUser"},render:function(){var e=registerTemplate(register.toJSON());this.$el.html(e)},createUser:function(){}}),TimerView=Backbone.View.extend({startTime:1,data:null,startIndex:0,timerInterval:null,el:"#content",events:{"change #classFormat":"initTimer","click .start-pretimer":"preTimer","click .stop-timer":"stopTimer"},render:function(e){var t=timerTemplate(e.toJSON());this.$el.html(t)},initTimer:function(){var e=this,t=$("#classFormat").val();console.log(t),"none"!==t?$.getJSON("classes/"+t+".json",function(t){console.log(t),e.data=t,e.showMove(e.data.moves[0].type,e.data.moves[0].name)}):$(".next-move").html("No Format Selected")},preTimer:function(){var e=this;this.timerInterval=setInterval(function(){e.updatePretimer()},1e3)},startTimer:function(){var e=this;this.timerInterval=setInterval(function(){e.nextMove()},1e3)},stopTimer:function(){clearInterval(this.timerInterval)},nextMove:function(){that=this,$(".timer").html(this.startTime++),51===this.startTime&&(that.startIndex++,that.startIndex<that.data.moves.length&&(that.showMove(that.data.moves[that.startIndex].type,that.data.moves[that.startIndex].name),$(".next-move").addClass("blink_me"))),61===this.startTime&&(that.startTime=1,$(".next-move").removeClass("blink_me"))},updatePretimer:function(){var e=this;$(".timer").html(this.startTime++),this.startTime>21&&(e.startTime=1,clearInterval(e.timerInterval),$(".timer").html(e.startTime),e.startTimer(),$(".start-pretimer").addClass(".start-timer").removeClass(".start-pretimer"),$(".start-timer").on("click",function(){e.startTimer()}))},getClassFormat:function(){var e=this,t=$("#classFormat").val();console.log(t),"none"!==t?$.getJSON("classes/"+t+".json",function(t){console.log(t),e.data=t,e.showMove(e.data.moves[0].type,e.data.moves[0].name)}):$(".next-move").html("No Format Selected")},showMove:function(e,t){$(".move-type").html(e),$(".next-move").html(t)}}),Global={functions:{clearView:function(){$("#content").html("")},highlightNav:function(e){$("nav ul li a").removeClass("active"),$(e).addClass("active")},getTemplate:function(e){var t=null;return $.ajax({type:"GET",url:"templates/"+e,async:!1,cache:!1}).done(function(e){t=e}),t}}},homeTemplate=null,timerTemplate=null,registerTemplate=null;$(function(){var e=Global.functions.getTemplate("home.html");homeTemplate=Handlebars.compile(e);var e=Global.functions.getTemplate("timer.html");timerTemplate=Handlebars.compile(e);var e=Global.functions.getTemplate("register.html");registerTemplate=Handlebars.compile(e)});var app_router=new AppRouter;Backbone.history.start();
//# sourceMappingURL=main.min.js.map